<!--
  TEMPLATE DO CARD DE CADASTRO

  Estrutura:
  - Fundo da página
  - Card central
  - Cabeçalho com título
  - Formulário de cadastro
-->

<div class="fundo">

  <div class="card">

    <!-- ================= TÍTULO ================= -->
    <div class="card-title">
      <p class="title">
        CADASTRE-SE
      </p>
    </div>

    <!-- ================= FORMULÁRIO ================= -->
    <form
      [formGroup]="cadastroForm"
      (ngSubmit)="onSubmit()"
      novalidate
    >

      <!-- Campo usuário -->
      <input
        class="input-user form-control"
        type="text"
        formControlName="username"
        placeholder="USUÁRIO"
        maxlength="30"
      />

      <!-- Erros do usuário -->
      <div class="error-slot">
        @if (f['username'].invalid && (f['username'].dirty || f['username'].touched)) {
          <p class="errorMessage">
            @if (f['username'].errors?.['required']) {
              O usuário é obrigatório!
            } @else if (f['username'].errors?.['minlength']) {
              O usuário deve ter no mínimo 8 caracteres!
            }
          </p>
        }
      </div>

      <!-- Campo senha -->
      <input
        class="input-pass form-control"
        type="password"
        formControlName="password"
        placeholder="••••••••"
        maxlength="20"
      />

      <!-- Erros da senha -->
      <div class="error-slot">
        @if (f['password'].invalid && (f['password'].dirty || f['password'].touched)) {
          <p class="errorMessage">
            @if (f['password'].errors?.['required']) {
              A senha é obrigatória!
            } @else if (f['password'].errors?.['minlength']) {
              A senha deve ter no mínimo 5 caracteres!
            }
          </p>
        }
      </div>

      <!-- Botão -->
      <button
        class="btn-form btn"
        type="submit"
        [disabled]="cadastroForm.invalid"
      >
        CADASTRAR
      </button>

      <!-- Link para login -->
      <a
        class="a-entrar"
        routerLink="/"
      >
        Ou acesse sua conta
      </a>

    </form>
  </div>
</div>
